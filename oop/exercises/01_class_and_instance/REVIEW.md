# レッスン01: クラスとインスタンス - レビュー

## 学習日
2025-11-29

## 学習した概念

- **インスタンス変数** (`@variable`): メソッドを跨いで状態を保持するための変数
- **ローカル変数との違い**: ローカル変数はメソッド内でスコープが閉じる。インスタンス変数はオブジェクトの生存期間中保持される
- **`attr_reader`**: 外部に読み取り専用のインターフェースを公開するためのもの（クラス内部での利用のためではない）
- **カプセル化の初歩**: 外部から直接値を変更させず、メソッド（`click`）を通して状態を変更させる設計

## 質疑応答のポイント

### Q: `@count`（インスタンス変数）と `count`（ローカル変数）の違いは？

**回答**: ローカル変数のスコープはそのメソッド内に閉じてしまうため、メソッド間を跨いで利用することができない。`click`メソッドで`count`を利用しようとすると、変数が初期化されていないというエラーが出る。

→ 正しく理解できている。

### Q: `attr_reader :count` を書いた理由は？

**回答（訂正あり）**:
- 当初「クラス内で@count変数を使うため」と回答
- **訂正**: `attr_reader`は外部からアクセスするためのもの。クラス内では`@count`を直接使える
- 「`attr_accessor`ではなく`attr_reader`を選んだのは、外部から書き込まれるべきではないから」という判断は正しかった

## 良かった点

1. **カプセル化の判断**: `attr_accessor`ではなく`attr_reader`を選んだ理由として「`click`を通さずに値を変えられるのはおかしい」と判断できていた。これはカプセル化の本質を理解している

2. **スコープの理解**: ローカル変数とインスタンス変数の違いを、スコープの観点から正確に説明できた

3. **コードの品質**: シンプルで要件を満たすコードが書けている

## 次に深掘りすべきこと

- **`attr_reader` / `attr_writer` / `attr_accessor`** の使い分けの判断基準
- **カプセル化**: なぜ内部状態を隠すのか、どこまで隠すべきか
- **オブジェクトの責務**: このカウンターに機能を追加するとしたら、何を持たせるべきで、何を持たせるべきでないか

## 総合評価

基礎はしっかり理解できている。特に「なぜ`attr_reader`にしたか」の判断は、経験2-3年のエンジニアでも曖昧な人が多い中、良い感覚を持っている。

次の「カプセル化」のレッスンで、この感覚をさらに言語化・深掘りしていこう。
