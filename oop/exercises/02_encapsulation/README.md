# 02: カプセル化

## 題材：銀行口座

残高を管理する銀行口座を作ってください。

### 要件

- 口座は初期残高を指定して作成できる（指定しない場合は0）
- `balance` で現在の残高を取得できる
- `deposit(amount)` で入金できる
- `withdraw(amount)` で出金できる
- **残高がマイナスになる出金はできない**（残高不足の場合は `false` を返し、残高は変わらない）
- 出金が成功したら `true` を返す

### 考えてほしいこと

この問題を解く前に、以下の問いについて考えてみてください：

1. **なぜ `balance` を外部から直接変更できないようにするのか？**
   - もし `account.balance = -1000` ができたら何が困る？
   - 01で `attr_reader` を選んだ理由を思い出してみて

2. **「ルールを守る責任」は誰が持つべき？**
   - 「残高がマイナスにならない」というルールは、呼び出し側が守る？それとも口座自身が守る？
   - どちらが安全？

3. **入金に上限がないのは正しい？**
   - 今回の要件には入金の上限がないけど、実際のシステムだとどうだろう？
   - 要件にないことを勝手に実装すべき？

### ファイル

- `bank_account.rb` を作成してください
- テストは `spec/02_encapsulation/bank_account_spec.rb` にあります

### テストの実行

```bash
cd oop
rspec spec/02_encapsulation/bank_account_spec.rb
```

### キーワード

調べてみよう：
- カプセル化（Encapsulation）
- 情報隠蔽（Information Hiding）
- 不変条件（Invariant）
- 防御的プログラミング
